<!DOCTYPE html>
{% load staticfiles %}

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Zach's Workout App</title>

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="{% static 'css/trainer_portal.css' %}" rel="stylesheet" type="text/css" />

    <link href="https://fonts.googleapis.com/css?family=Dosis:800|Luckiest+Guy|Permanent+Marker&display=swap" rel="stylesheet">

  </head>

  <body class='w3-dark-grey w3-margin ' >

<div id="left"></div>
<div id="right"></div>
<div id="top"></div>
<div id="bottom"></div>



{% for client in clients %}

<div class="w3-card-4 thing w3-center w3-panel w3-padding">

<header class="w3-container w3-blue" style="margin: 10px">
  <h1>{{client.username}}</h1>
</header>
  {{client.userprofile.group.group_name}} 

 <div class="w3-dropdown-click">
  <button onclick="myFunction({{client.id}})" class="w3-button w3-black">Assign Program</button>
  <div id="{{client.id}}" class="w3-dropdown-content w3-bar-block w3-border">
    {% for program in programs %}
    <a href="#" class="assign-program-btn w3-bar-item w3-button" data-userid="{{client.id}}" data-groupid="{{ program.id }}">{{program.group_name}}</a>
    {% endfor %}
  </div>
</div>

  <p>last workout date: {{client.userprofile.last_workout_completed}}
  <p>last workout: {{client.last_workout}}</p>
  <p>next workout: {{client.current_workout}}</p>

</div>

{% endfor %}

<script>
function myFunction(client_id) {
  var x = document.getElementById(client_id);
  if (x.className.indexOf("w3-show") == -1) { 
    x.className += " w3-show";
  } else {
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>

<script src="{% static 'js/jquery-3.3.1.min.js' %}" crossorigin="anonymous"></script>
<script src="{% static 'js/trainer-ajax.js' %}" crossorigin="anonymous"></script>
  </body>
</html>